using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class Enemy2Controller : MonoBehaviour
{
    private Vector3 velocity;

    private SpriteRenderer rend;
    private Animator anim;
    public float speed = 2.0f;

    private int movement;

    private Vector3 target1;
    private Vector3 target2;
    private Vector3 target3;
    private Vector3 target4;
    private Vector3 target5;

    // Use this for initialization
    void Start()
    {
        velocity = new Vector3(0f, 0f, 0f);
        rend = GetComponent<SpriteRenderer>();
        anim = GetComponent<Animator>();

        movement = 1;

        target1 = new Vector3(5, 0, 0);
        target2 = new Vector3(5, 2, 0);
        target3 = new Vector3(-5, 2, 0);
        target4 = new Vector3(-5, -2, 0);
        target5 = new Vector3(5, -2, 0);
    }

    // Update is called once per frame
    void Update()
    {
        float step = speed * Time.deltaTime;

        switch (movement)
        {
            case 1:
                anim.Play("E2Right");
                if (transform.position == target1)
                {
                    movement = 2;
                } else
                {
                    transform.position = Vector2.MoveTowards(transform.position, target1, step);
                }
                break;
            case 2:
                anim.Play("E2Up");
                if (transform.position == target2)
                {
                    movement = 3;
                }
                else
                {
                    transform.position = Vector2.MoveTowards(transform.position, target2, step);
                }
                break;
            case 3:
                anim.Play("E2Left");
                if (transform.position == target3)
                {
                    movement = 4;
                }
                else
                {
                    transform.position = Vector2.MoveTowards(transform.position, target3, step);
                }
                break;
            case 4:
                anim.Play("E2Down");
                if (transform.position == target4)
                {
                    movement = 5;
                }
                else
                {
                    transform.position = Vector2.MoveTowards(transform.position, target4, step);
                }
                break;
            case 5:
                anim.Play("E2Right");
                if (transform.position == target5)
                {
                    movement = 2;
                }
                else
                {
                    transform.position = Vector2.MoveTowards(transform.position, target5, step);
                }
                break;
        }
    }
}